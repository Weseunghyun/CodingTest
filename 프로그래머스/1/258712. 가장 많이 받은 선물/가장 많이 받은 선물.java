import java.util.*;

class Solution {

    public int solution(String[] friends, String[] gifts) {
        //ì„ ë¬¼ì§€ìˆ˜ë¥¼ ì €ì¥í•  map
        Map<String, Integer> giftScore = new HashMap<>();
        //ì´ë¦„ê³¼ ê° ì´ë¦„ì´ ê°€ì§€ëŠ” ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•  map
        Map<String, Integer> nameIdxMap = new HashMap<>();
        //ë‹¤ìŒë‹¬ì— ë°›ì„ ì„ ë¬¼ ê°œìˆ˜ë¥¼ ì €ì¥í•  map
        Map<String, Integer> result = new HashMap<>();

        int idx = 0;
        int len = friends.length;

        String[] index = new String[len];
        //2ì°¨ì› ë°°ì—´ë¡œ ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ì„ ë¬¼ì„ ì£¼ì—ˆëŠ”ì§€ í‘œí˜„
        int[][] record = new int[len][len];

        //ì„ ë¬¼ ì§€ìˆ˜ ì €ì¥ì„ ìœ„í•œ map ì´ˆê¸° ã……
        for (String friend : friends) {
            giftScore.put(friend, 0);
            result.put(friend, 0);
            nameIdxMap.put(friend, idx);
            index[idx] = friend;
            idx++;
        }

        for (String gift : gifts) {
            //ê³µë°±ì„ ê¸°ì¤€ìœ¼ë¡œ ì• ë’¤ë¥¼ ë‚˜ëˆ”.
            //ì•ì´ ì¤€ ì‚¬ëŒì´ë‹ˆê¹Œ ì„ ë¬¼ ì£¼ì—ˆìœ¼ë¯€ë¡œ +1, ë’¤ê°€ ë°›ì€ì‚¬ëŒìœ¼ë¡œ -1 ì„ ë¬¼ì§€ìˆ˜ë¥¼ ì €ì¥
            String[] s = gift.split(" ");
            giftScore.put(s[0], giftScore.get(s[0]) + 1);
            giftScore.put(s[1], giftScore.get(s[1]) - 1);

            //2ì°¨ì› ë°°ì—´ë¡œ ì£¼ì—ˆìŒì„ í‘œê¸°
            record[nameIdxMap.get(s[0])][nameIdxMap.get(s[1])] += 1;
        }

        for (int i = 0; i < len; i++) {
            for (int j = i + 1; j < len; j++) {
                String a = index[i];
                String b = index[j];

                int aToB = record[i][j];
                int bToA = record[j][i];

                if (aToB > bToA) {
                    result.put(a, result.get(a) + 1);
                } else if (aToB < bToA) {
                    result.put(b, result.get(b) + 1);
                } else {
                    int aScore = giftScore.get(a);
                    int bScore = giftScore.get(b);

                    if (aScore > bScore) {
                        result.put(a, result.get(a) + 1);
                    } else if (aScore < bScore) {
                        result.put(b, result.get(b) + 1);
                    }
                }
            }
        }

        int answer = -1;

        for (String friend : friends) {
            answer = Math.max(result.get(friend), answer);
        }

        return answer;
    }
}

/*
âš ï¸ ë¬¸ì œ ì›ì¸ ìš”ì•½:
- ì¹œêµ¬ ìŒ (A, B)ì„ (i, j) ì™€ (j, i) ë‘ ë²ˆ í‰ê°€í•˜ì—¬ ì„ ë¬¼ ìˆ˜ ê³„ì‚°ì´ 2ë°°ë¡œ ì¦ê°€í•¨

âœ… í•´ê²° ì „ëµ:
- i < j ì¡°ê±´ìœ¼ë¡œ í•œ ìŒì„ ë‹¨ í•œ ë²ˆë§Œ í‰ê°€í•˜ê²Œ ì œí•œí•¨
- ìŒë§ˆë‹¤ ëˆ„ê°€ ë” ë§ì´ ì¤¬ëŠ”ì§€ â†’ ì„ ë¬¼ì§€ìˆ˜ ë¹„êµ â†’ ë°›ì€ ì‚¬ëŒ count ì¦ê°€
- ë°›ì€ ì„ ë¬¼ ìˆ˜ mapì—ì„œ ìµœëŒ“ê°’ ë°˜í™˜

ğŸ¯ ìµœì¢… ë¡œì§ ìš”ì•½:
1. ì„ ë¬¼ ê¸°ë¡ ë¶„ì„í•˜ì—¬ ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ëª‡ ë²ˆ ì¤¬ëŠ”ì§€ ê¸°ë¡ (2ì°¨ì› ë°°ì—´)
2. ì„ ë¬¼ì§€ìˆ˜ (ì¤€ ìˆ˜ - ë°›ì€ ìˆ˜) ê³„ì‚°
3. ì¹œêµ¬ ìŒ ë§ˆë‹¤ í•œ ë²ˆë§Œ ë¹„êµí•˜ì—¬ ë‹¤ìŒ ë‹¬ ì„ ë¬¼ ìˆ˜ ê³„ì‚°
4. ê°€ì¥ ë§ì´ ë°›ì€ ì‚¬ëŒì˜ ê°œìˆ˜ë¥¼ ë°˜í™˜
*/

/*
ë‘ ì‚¬ëŒ ì¤‘ ì„œë¡œ ì„ ë¬¼ì„ ë” ë§ì´ ì¤€ ì‚¬ëŒì´ ìƒëŒ€ë°©ì—ê²Œ ì„ ë¬¼ì„ ë°›ìŒ
ì„ ë¬¼ì„ ì£¼ê³ ë°›ì€ ê¸°ë¡ì´ ì—†ê±°ë‚˜ ê°™ë‹¤ë©´ ì„ ë¬¼ ì¤€ ìˆ˜ - ì„ ë¬¼ ë°›ì€ ìˆ˜ = ì„ ë¬¼ì§€ìˆ˜ê°€ í° ì‘ì€ ì‚¬ëŒì—ê²Œ ë°›ìŒ
ì£¼ê³ ë°›ì§€ ì•Šê±°ë‚˜ ì„ ë¬¼íšŸìˆ˜ê°€ ì„œë¡œ ê°™ì€ ìƒíƒœì—ì„œ ì§€ìˆ˜ê¹Œì§€ ê°™ë‹¤ë©´ ì„ ë¬¼ì€ ì£¼ê³ ë°›ì§€ì•ŠëŠ”ë‹¤.

ì¹œêµ¬ë“¤ì˜ ì´ë¦„ê³¼ ì´ë²ˆ ë‹¬ì˜ ì„ ë¬¼ê¸°ë¡ì´ ì£¼ì–´ì§ˆë•Œ ë‹¤ìŒë‹¬ì— ì„ ë¬¼ì„ ê°€ì¥ ë§ì´ ë°›ì„ ì¹œêµ¬ê°€ ë°›ì„ ì„ ë¬¼ì˜ ìˆ˜ê°€ ê¶ê¸ˆí•˜ë‹¤.
ë™ëª…ì´ì¸ì€ ì—†ìœ¼ë©° ì´ë²ˆ ë‹¬ ì„ ë¬¼ ê¸°ë¡ì€ 10,000 ê°œ ê¹Œì§€ ì¡´ì¬í•œë‹¤.
"A B" ì´ë©° ì¤€ì‚¬ëŒì´ ì•, ë°›ì€ì‚¬ëŒì´ ë’¤ë‹¤.

ì„œë¡œ ì„ ë¬¼í•œ íšŸìˆ˜ì™€ ê°ê°ì˜ ì„ ë¬¼ ì§€ìˆ˜ê°€ í•„ìš”í•¨
ì„ ë¬¼ì§€ìˆ˜ëŠ” ë‚´ê°€ ì„ ë¬¼ ì¤€ ìˆ˜ë¥¼ ì„¸ê³  ë°›ì€ ìˆ˜ë„ ì„¼ ë‹¤ìŒì— ë‘˜ì„ ë¹¼ë©´ë¨.
ì„ ë¬¼íšŸìˆ˜ê°€ ì„œë¡œ 0ì¼ ë•Œë§Œ ì„ ë¬¼ì§€ìˆ˜ë¥¼ ì‚¬ìš© ì•„ë‹ˆë©´ ì•ˆì¨ë„ë¨.
ì„ ë¬¼ ì¤€ ì‚¬ëŒ ë°›ì€ ì‚¬ëŒê³¼ íšŒìˆ˜ë¥¼ ì–´ë–»ê²Œ ì¸¡ì •í• ê¹Œ?

ì´ë¦„ê³¼ ì„ ë¬¼ ì¤€ ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” map, ì´ë¦„ê³¼ ì„ ë¬¼ ë°›ì€ ê°œìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” mapì„ ì‚¬ìš©í•´ë³´ì
ë‘ mapì„ ì´ìš©í•´ì„œ ê°ê°ì˜ ì„ ë¬¼ ì ìˆ˜ë¥¼ ì €ì¥í•˜ëŠ” map ë„ ì‚¬ìš©í•˜ì.

ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ì¤¬ê³  ëˆ„ê°€ ëˆ„êµ¬ì—ê²Œ ë°›ì•˜ëŠ”ì§€ë„ ì•Œ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ì˜ˆì‹œ
muzi frodo 2
ryan muzi 3
frodo muzi 1
frodo ryan 1
neo muzi 1

muziëŠ” ì„ ë¬¼ì„ 4ê°œ ë°›ê³  2ê°œ ì¤Œ  ì„ ë¬¼ ì§€ìˆ˜ : -2
frodoëŠ” ì„ ë¬¼ì„ 2ê°œ ë°›ê³  2ê°œ ì¤Œ ì„ ë¬¼ ì§€ìˆ˜ : 0
ryanì€ ì„ ë¬¼ì„ 1ê°œ ë°›ê³  3ê°œ ì¤Œ  ì„ ë¬¼ ì§€ìˆ˜ : 2
neoëŠ” ì„ ë¬¼ì„ 0ê°œ ë°›ê³  1ê°œ ì¤Œ   ì„ ë¬¼ ì§€ìˆ˜ : 1

muzi -> frodo 2, frodo -> muzi 1 : muziê°€ ë°›ì•„ì•¼í•¨
ryan -> muzi 3, muzi -> ryan 0 : ryanì´ ë°›ì•„ì•¼í•¨
frodo -> ryan 1, ryan -> frodo 0 : frodo ê°€ ë°›ì•„ì•¼í•¨
neo -> muzi 1, muzi -> neo 0 : neo ê°€ ë°›ì•„ì•¼í•¨
ì„œë¡œ ì£¼ê³ ë°›ì§€ ì•Šì€ ìŒì€ ryan <-> neo, frodo <-> neo ì„ ryan 1ê°œ ì¶”ê°€ neo 1ê°œ ì¶”ê°€
neo, ryan 2ê°œì”© ë”°ë¼ì„œ 2ê°œ ë¦¬í„´


*/